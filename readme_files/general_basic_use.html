<html>
<head>
<title>Basic Use - AddmusicK Readme</title>
<link href="readme.css" type="text/css" rel="stylesheet">
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>td:first-child {width:180px;}</style>
<body>
<h1>Basic Use</h1>

<h2>Contents</h2>
<ul>
<li><a href="#inserting-music-with-AMKGUI">Inserting with AMKGUI.exe</a></li>
    <ul>
        <li><a href="#AMKGUI-user-interface">AMKGUI User Interface</a></li>
    </ul>
<li><a href="#inserting-music-with-AddmusicK">Inserting with AddmusicK.exe</a></li>
<li><a href="#converting-older-hacks">Converting Older Hacks</a></li>
<li><a href="#batch-tools">Using AM4Batch.exe and AMMBatch.exe</a></li>
</ul>

<hr><h2 id="inserting-music-with-AMKGUI">Inserting Music with AMKGUI.exe<a href="#" class="go-to-top"></a></h2>
<ol>
<li><p>Obtain the custom music you with to use.  A large collection of songs to use may be obtained <a href="http://www.smwcentral.net/?p=section&s=smwmusic">from SMW Central</a>.  Please note that AddmusicK only accepts music written in Music Macro Language (MML) specifically for it, usually distributed as .txt files; other kinds of files (.mp3, .wav, .midi, .spc, etc.) will not work!</p></li>
<li>Download the song you wish to use.</li>
<li>Extract the .zip file. Generally, it will contain:
<ul>
<li>A .txt file. This is the song itself, and what will be inserted.</li>
<li>A .spc file. This is simply a preview of the song.</li>
<li>A subfolder containing .brr files. These are custom samples that will be inserted with the song, if it uses any. <i>This folder is not always present. If it isn't present, you don't need it.</i></li>
<li>An additional .txt file, usually referring to a "sample group". <i>This file is not always present. If it isn't present, you don't need it.</i></li>
</ul>
<li>Place the song's .txt file into the <code>music</code> folder.</li>
<li><i>If the song uses custom samples</i>, copy the folder with the samples (i.e. the folder itself) into the <code>samples</code> folder.</li>
<li><i>If the song has a "sample groups" .txt file</i>, copy its contents to the very end of <code>Addmusic_sample groups.txt</code>.</li>
<li>Run "AMKGUI.exe" (if you cannot, see below for manual instructions). To add a new song for insertion, locate its .txt file in the <code>music</code> folder. You can either drag it onto the AMKGUI window, or navigate to it after clicking the "Add new song" button.</li>
<li>Once you're ready to insert your songs, click "Run". AddmusicK will attempt to insert all songs listed under "Global songs" and "Local songs" into your ROM.</li>
<li>After a few seconds, a window should appear, listing the results of the insertion.
<ul>
<li>If the insertion was successful, you can now use the custom music you have inserted. A file named &ltROMNAME&gt.msc should have appeared when you ran the program.  Lunar Magic can use this to determine the names of your songs, so be sure to keep it in the same directory as your ROM.  If Lunar Magic is not displaying the song names for some reason, don't worry: your songs are still there. Just use the number beside the song name in AMKGUI in Lunar Magic.</li>
<li>If the insertion was unsuccessful, or the results window never appears, see the <a href="troubleshooting.html">Troubleshooting</a> page for advice.</li>
</ul>
</ol>

<h3><a id="AMKGUI-user-interface">AMKGUI User Interface</a></h3>
<p>The user interface of AMKGUI.exe contains a number of buttons and checkboxes. Here's a brief summary of what they do.</p>
<table>
<tr><td>Change selected song</td><td>Opens a window that allows you to select a song, which will replace the song for the currently-selected ID.</td></tr>
<tr><td>Clear selected song</td><td>Removes the name of the song listed for the currently-selected ID, but keeps a blank entry for that ID.</td></tr>
<tr><td>Remove selected song</td><td>Removes the selected song and its entry from <code>Addmusic_list.txt</code> completely.</td></tr>
<tr><td>Add new song</td><td>Opens a window that allows you to select a song, which will be added to <code>Addmusic_list.txt</code>, under the next available Local song ID.</li></tr>
<tr><td>Play this song</td><td>Opens the song's AMK-generated .spc file, if it exists.</td></tr>
<tr><td>Reload list.txt from disk</td><td>Reloads the data within <code>Addmusic_list.txt</code>. This is most useful when making manual edits to the file<br><br><i>Note: Editing <code>Addmusic_list.txt</code>, then clicking "Run" without clicking "Reload list.txt from disk" will instead overwrite the contents of <code>Addmusic_list.txt</code> with whatever AMKGUI.exe currently has loaded for its list.</i></li></tr>
<tr><td>⇑ and ⇓</td><td>These respectively shift the selected Local song up and down within <code>Addmusic_list.txt</code>.</td></tr>
<tr><td>Run</td><td>Attempts to insert every Global song and Local song listed in <code>Addmusic_list.txt</code> into the selected ROM.</td></tr>
<tr><td>Verbose AMK</td><td>Enables verbose mode, which makes the program provide additional technical details about each song being inserted.</td></tr>
<tr><td>Porter mode</td><td>Attempts to compile the selected Local song into a single .spc file for preview, instead of attempting to insert every song in the list. As the name implies, this is most useful when creating SMW music, to quickly preview a song without having to insert it and open the game.</li></tr>
<tr><td>Autoplay SPC</td><td>If checked, the selected song's .spc file will be played automatically after clicking "Run" whlie in Porter mode.<br> <i>Only shown when Porter mode is enabled.</i></li></tr> <!-- I would make the italicized line a darker grey, and likewise for other places too I think -->
</table>


<hr><h2 id="inserting-music-with-AddmusicK">Inserting Music with AddmusicK.exe<a href="#" class="go-to-top"></a></h2>
<ol>
<li>Follow the AMKGUI.exe instructions until step 7.</li>
<li><p>Once the song's .txt file has been placed in the <code>music</code> folder, open <code>Addmusic_list.txt</code>. This file contains a list of all the songs AddmusicK will attempt to insert, and the number of the slot it will attempt to insert each one into.</p></li>
<li>Add a new line at the bottom of the file. Put an unused ID number, followed by the file path to the .txt file of the song you want to insert, relative to the <code>music</code> folder. <i>Note: ID numbers are in hexadecimal. Valid ID values are from 00 to FE.</i></li>
<li>Run <code>AddmusicK.exe</code>. You will be prompted for your ROM name.  Make sure that your ROM is in the same directory as the program and that its name does not contain any spaces, then type in the name and hit ENTER.</li>
<li><p>Add a new line at the bottom of the file, type in an unused number, and then the song's filename (including the folder you put it in).  For example, "My Song/My Song.txt" (without the quotes). Make sure not to include the "music" folder in the path ("music/My Song/My Song.txt" without the quotes will not work correctly). This will be the song number that you will use in Lunar Magic.</p></li>
<li><p>Run the program.  You will be prompted for your ROM name.  Make sure that your ROM is in the same directory as the program and that its name does not contain any spaces, then type in the name and hit ENTER.</p></li>
<li>After a few seconds, some text should appear, listing the results of the insertion.
<ul>
<li>If the insertion was successful, you can now use the custom music you have inserted. A file named &ltROMNAME&gt.msc should have appeared when you ran the program.  Lunar Magic can use this to determine the names of your songs, so be sure to keep it in the same directory as your ROM.  If Lunar Magic is not displaying the song names for some reason, don't worry: your songs are still there. Just use the number beside the song name in AMKGUI in Lunar Magic.</li>
<li>If the insertion was unsuccessful, or the results text never appears, see the <a>F.A.Q.</a> for troubleshooting advice.</li>
</ul>
</ol>


<hr><h2 id="converting-older-hacks">Converting older hacks<a href="#" class="go-to-top"></a></h2>
<p>No extra steps should be necessary in order to convert hacks that currently use AM4 or AMM; just run the program like normal. However, it is <i><b>highly</b></i> recommended that you make a backup before attempting this!</p>

<p>Note, however, that you will need to either redownload your old songs or convert them manually. AM4Batch.exe and AMMBatch.exe may help if you decide to go with the latter, as they will automatically add the correct #am4 or #amm identifiers (though you will still need to add the #samples command).</p>

<hr><h2 id="batch-tools">Using AM4Batch.exe and AMMBatch.exe<a href="#" class="go-to-top"></a></h2>
<p>Both of these are command line programs that append #am4 or #amm to unconverted .txt files.</p>

<p>The only arguments you need to provide are a list of .txt files to append #am4 or #amm to. The program will skip over files that already have either these markers or #amk in them, so you shouldn't worry too much about accidentally putting in two markers in there.</p>

<p>Please make sure you don't mix up the two when either using the batch programs or appending #am4 and #amm manually: using the wrong one, worst case scenario, can cause a misinterpretation in either the hex commands or the MML syntax that in turn can cause the conversion to either fail outright, output a non-functional SPC file, or even crash the SPC side when it is played in-game.</p>

<a class="go-home" href="../readme.html">Return to the Main Page</a>
</body>
</html>