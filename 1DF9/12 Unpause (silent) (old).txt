$E0 $FF #jsr changePause

#asm changePause
{
	mov a, !SpeedUpBackUp	;\
	mov $0387, a			;/ Restore the tempo.
	
	mov a, #$01			;\ Set pause flag to solve issue when doing start+select quickly
	mov !PauseMusic, a	;/

	dec a
	mov $f2, #$2c		;\
	mov $f3, a		;| Mute echo.
	set1 $f2.4		;|
	mov $f3, a		;/

	dec a			; \ Key off voices
	call KeyOffVoicesNoPlayingVoicesClear	; / (so the music doesn't restart playing when using start+select)

	clr1 !NCKValue.6		; Unset the mute flag.
	jmp SetFLGFromNCKValue
}